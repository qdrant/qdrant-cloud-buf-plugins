syntax = "proto3";

// As a commodity, we re-define it here to avoid relying on the real dependency.

package qdrant.cloud.common.v1;

import "google/protobuf/descriptor.proto";

// The extension for adding permissions to the system
extend google.protobuf.MethodOptions {
    // A list of permissions which ALL need to be met by the current user.
    repeated string permissions = 50001;
}

// The extension for adding an expression where to find the account ID in a message
// If the extension is missing 'account_id' will be used.
extend google.protobuf.MethodOptions {
    // The expression to find the account ID field, which should be a string field.
    // It is allowed to nest fields with a point, like 'cluster.account_id' or 'account.id'
    // If the expression is set to an empty string, no account ID will be used.
    string account_id_expression = 50002;
}

// The extension for allowing a method to be be used without authentication.
// If the extension is missing the system requires authentication and return a 'permission denied' error if missing.
extend google.protobuf.MethodOptions {
    // Set to allow a method to be used without authentication.
    bool requires_authentication = 50003;
}
